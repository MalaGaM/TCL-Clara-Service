<html>
<head><title>example.tcl</title></head>
<body bgcolor="#ffffff">
<font size="-2">
Index by:  <a href="index_main.html#example.tcl">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a>
</font>
<hr>
<strong>example.tcl</strong>
(<a href="example.tcl-annot.html">annotations</a> | <a href="example.tcl.txt">original source</a>)
<p>
<pre>
<font color="#208020">#!/usr/bin/tclsh</font>
package require IRCServices

set CONNECT_ID [<a name="::IRCServices::connection(1)"><a href="./ircservices.tcl.html#::IRCServices::connection_109">::IRCServices::connection</a></a>]; <font color="#208020"># Creer une instance services</font>
$CONNECT_ID connect 127.0.0.1 +7002 passwordlink 1 eva.info 00C
set BOT_ID [$CONNECT_ID bot]; <font color="#208020">#Creer une instance bot dans linstance services</font>
$BOT_ID create ClaraServ services ClaraServ.eggdrop.fr &quot;Visit: https://git.io/JYY9b&quot; +Soiq
$BOT_ID join #Services
$BOT_ID registerevent PRIVMSG {
       set cmd         [lindex [<a name="msg(1)"><a href="./ircservices.tcl.html#msg_589">msg</a></a>] 0]
       set data        [lrange [<a name="msg(2)"><a href="./ircservices.tcl.html#msg_589">msg</a></a>] 1 end]
       <font color="#208020">##########################</font>
       <font color="#208020">#--&gt; Commandes Priv√©s &lt;--#</font>
       <font color="#208020">##########################</font>
       <font color="#208020"># si [target] ne commence pas par # c'est un pseudo</font>
       if { [string index [<a name="target(1)"><a href="./ircservices.tcl.html#target_628">target</a></a>] 0] != &quot;#&quot;} {
               if { $cmd == &quot;help&quot;             }       { 
                       puts &quot;PRIV: [<a name="who2(1)"><a href="./ircservices.tcl.html#who2_608">who2</a></a>] [<a name="target2(1)"><a href="./ircservices.tcl.html#target2_633">target2</a></a>] $cmd $data&quot;
               }
       }
       <font color="#208020">##########################</font>
       <font color="#208020">#--&gt; Commandes Salons &lt;--#</font>
       <font color="#208020">##########################</font>
       <font color="#208020"># si [target] commence par # c'est un salon</font>
       if { [string index [<a name="target(2)"><a href="./ircservices.tcl.html#target_628">target</a></a>] 0] == &quot;#&quot;} {
               if { $cmd == &quot;!help&quot;    }       { 
                       puts &quot;PUB: [<a name="who(1)"><a href="./ircservices.tcl.html#who_600">who</a></a>] [<a name="target(3)"><a href="./ircservices.tcl.html#target_628">target</a></a>] $cmd $data&quot;
               }
       }
}; <font color="#208020"># Creer un event sur PRIVMSG</font>
vwait state</pre>
<hr>
<font size="-2">
Index by:  <a href="index_main.html#byfilename">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a><br>
<cite>Index generated 2022-07-24 at 09:39.</cite>
</font>
</body>
</html>
